<div
  class="viewport-root"
  (wheel)="onWheel($event)"
  (pointerdown)="onPointerDown($event)"
  (pointerup)="onPointerUp($event)"
  (pointermove)="onPointerMove($event)"
  (contextmenu)="$event.preventDefault()"
>
  <canvas #canvasEl [style.filter]="canvasFilter()"></canvas>

  <app-box-context-menu
    [visible]="contextMenuVisible()"
    [x]="contextMenuX()"
    [y]="contextMenuY()"
    (selectType)="onContextMenuSelect($event)"
    (close)="closeContextMenu()"
  ></app-box-context-menu>

  <app-scale-bar
    #scaleBarRef
    [zoom]="scaleBarZoom()"
    [viewportWidth]="viewportWidth()"
    [viewportHeight]="viewportHeight()"
    [imageWidth]="scaleBarImageWidth()"
    [imageHeight]="scaleBarImageHeight()"
    [metricWidth]="scaleBarMetricWidth()"
    [metricHeight]="scaleBarMetricHeight()"
  ></app-scale-bar>
</div>
